CONFIG_ATH_USER_REGD=y
CONFIG_VERSION_FILENAMES=n
CONFIG_TARGET_ROOTFS_TARGZ=y
CONFIG_TARGET_ROOTFS_SQUASHFS=n
CONFIG_TARGET_ROOTFS_INCLUDE_UIMAGE=n
CONFIG_TARGET_ROOTFS_INCLUDE_FIT=n
CONFIG_DEVEL=y
CONFIG_TARGET_OPTIONS=y
CONFIG_IMAGEOPT=y
CONFIG_VERSIONOPT=y
CONFIG_BUSYBOX_CUSTOM=y
CONFIG_BUSYBOX_CONFIG_CROND=n
CONFIG_BUSYBOX_CONFIG_CRONTAB=n
CONFIG_BUSYBOX_CONFIG_SYSLOGD=n
CONFIG_BUSYBOX_CONFIG_STTY=y
CONFIG_VERSION_REPO="https://api.turris.cz/openwrt-repo/@BOARD@@BRANCH@/packages/"
CONFIG_VERSION_NICK="@BOARD@"

# Disable package signing for now (we don't preserve signing key)
CONFIG_SIGNED_PACKAGES=n

# LXC related stuff
CONFIG_KERNEL_NAMESPACES=y
CONFIG_KERNEL_UTS_NS=y
CONFIG_KERNEL_IPC_NS=y
CONFIG_KERNEL_PID_NS=y
CONFIG_KERNEL_USER_NS=y
CONFIG_KERNEL_NET_NS=y
CONFIG_KERNEL_LXC_MISC=y
CONFIG_KERNEL_CGROUPS=y
CONFIG_KERNEL_CGROUP_DEVICE=y
CONFIG_KERNEL_CGROUP_SCHED=y
CONFIG_KERNEL_CGROUP_CPUACCT=y
CONFIG_KERNEL_CGROUP_FREEZER=y
CONFIG_KERNEL_CPUSETS=y
CONFIG_KERNEL_RESOURCE_COUNTERS=y
CONFIG_KERNEL_MEMCG=y
CONFIG_KERNEL_MEMCG_SWAP=y
CONFIG_LXC_BUSYBOX_OPTIONS=y
CONFIG_LXC_KERNEL_OPTIONS=y

# Make sure we use real strip, that one leaves the debug link in
CONFIG_USE_STRIP=y

# Packages built as modules all the time
CONFIG_PACKAGE_daemon-watchdog=m
CONFIG_PACKAGE_watchdog_adjust=m
CONFIG_PACKAGE_getbranch-test=m
CONFIG_PACKAGE_updater-testkey=m
CONFIG_PACKAGE_updater-consolidator=m
CONFIG_PACKAGE_updater-deps=m
CONFIG_PACKAGE_updater-hash-check=m
CONFIG_PACKAGE_openssh-server=m
CONFIG_PACKAGE_openssh_server_nuci_support=y
CONFIG_PACKAGE_nuci-nethist=m
CONFIG_PACKAGE_nuci-tls=m
CONFIG_PACKAGE_oneshot=y
CONFIG_PACKAGE_ntpdate=y
CONFIG_PACKAGE_ca-certificates=m
CONFIG_PACKAGE_kmod-fs-vfat=m
CONFIG_PACKAGE_kmod-ebtables=m
CONFIG_PACKAGE_kmod-ebtables-ipv4=m
CONFIG_PACKAGE_kmod-ebtables-ipv6=m
CONFIG_PACKAGE_kmod-ebtables-watchers=m
CONFIG_PACKAGE_kmod-ipt-compat-xtables=m
CONFIG_PACKAGE_kmod-ipt-conntrack-extra=m
CONFIG_PACKAGE_kmod-ipt-ipmark=m
CONFIG_PACKAGE_kmod-ipt-tproxy=m
CONFIG_PACKAGE_kmod-bridge=m
CONFIG_PACKAGE_kmod-llc=m
CONFIG_PACKAGE_kmod-stp=m
CONFIG_PACKAGE_kmod-tun=m
CONFIG_PACKAGE_conntrack-tools=m
CONFIG_PACKAGE_ebtables=m
CONFIG_PACKAGE_iptables-mod-tproxy=m
CONFIG_PACKAGE_ip6tables-mod-nat=m
CONFIG_PACKAGE_openssh-client-utils=m
CONFIG_PACKAGE_openssh-client=m
CONFIG_PACKAGE_openssh-moduli=m
CONFIG_PACKAGE_openssh-sftp-server=m
CONFIG_PACKAGE_openssh-sftp-client=m
CONFIG_PACKAGE_bash=m
CONFIG_PACKAGE_vim-full=m
CONFIG_PACKAGE_psmisc=m
CONFIG_PACKAGE_htop=m
CONFIG_PACKAGE_logrotate=m
CONFIG_PACKAGE_kmod-usb-storage-extras=m
CONFIG_PACKAGE_userspace_time_sync=m
CONFIG_PACKAGE_https-cert=m
CONFIG_PACKAGE_foris-oldconfig=m
CONFIG_PACKAGE_foris-tls-plugin=m
CONFIG_PACKAGE_python=m
CONFIG_PACKAGE_start-indicator=y
CONFIG_PACKAGE_updater-ng=m
CONFIG_PACKAGE_updater-migrate=m
CONFIG_PACKAGE_userlists=m
CONFIG_NGINX_SSL=y
CONFIG_NGINX_DAV=y
CONFIG_NGINX_FLV=y
CONFIG_NGINX_LUA=y

# Little hardening
CONFIG_NEED_TOOLCHAIN=y
CONFIG_TOOLCHAINOPTS=y
CONFIG_PKG_CHECK_FORMAT_SECURITY=y
CONFIG_PKG_FORTIFY_SOURCE_2=y
CONFIG_PKG_RELRO_FULL=y

# Opkg configuration
CONFIG_OPKG_SUPPORT_MD5=y

# Few useful kernel options
CONFIG_KERNEL_AIO=y
CONFIG_KERNEL_DIRECT_IO=y
CONFIG_KERNEL_FHANDLE=y
CONFIG_KERNEL_FANOTIFY=y
CONFIG_KERNEL_BLK_DEV_BSG=y
CONFIG_KERNEL_CHECKPOINT_RESTORE=y

# Few handy customizations
CONFIG_BUSYBOX_CONFIG_FEATURE_FLOAT_SLEEP=y
CONFIG_BUSYBOX_CONFIG_UDHCP_INSTALL_SIMPLE_SCRIPT=n

# Ucollect and stuff
CONFIG_PACKAGE_ucollect-badconf=m
CONFIG_PACKAGE_ucollect-buckets=m
CONFIG_PACKAGE_ucollect-prog=m
CONFIG_PACKAGE_ucollect-count=m
CONFIG_PACKAGE_ucollect-sniff=m
CONFIG_PACKAGE_ucollect-bandwidth=m
CONFIG_PACKAGE_ucollect-flow=m
CONFIG_PACKAGE_ucollect-fwup=m
CONFIG_PACKAGE_ucollect-meta=m
CONFIG_PACKAGE_ucollect-fake=m
CONFIG_PACKAGE_lcollect-majordomo=m
CONFIG_PACKAGE_luci-app-majordomo=m
CONFIG_PACKAGE_nikola=m
